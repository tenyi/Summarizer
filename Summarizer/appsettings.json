{
  "ConnectionStrings": {
    "MIS": "Ohc68gCEYfQVBhDVnRnP8cBx1C1fzpcbe7RN8WU0UwkLRL3a/6QhRY/0gicWmUKyLWORgZCcR/gYFsH3Dze8fqAB09Ia+lnnawScUJc8iY3Ft0yfkkrRTClW3QC6rnJaN+qgM7BBx6qid8nXe5LkShNuXuSLSvd0ahwv1tLJ3ixuCH140u+slZqyJKBXoVnWftdzK2iwrPsyRzZntbZE+u2wHNA+IB2K7uQE5o2bKGLBr+B/C6oG74jB2MUS6BzJt/kaZSxwp+lAvKxAdrafE03tcplHu5Y3zFUyyQrbVnRWITVhEXi/B6U/v7r/JlJcxxkzwzdKH5mIqkVvffgHImdgrySRMA0rt73NnZSkAOGYKQ3wnKUE6EhiAm0rW5XWq0/sq5xiMsqXiHZgcvz4jBJP9QM9kVrHCakF+jdv1oLyVIh0f+sshQd//ryxU46q/56ixfDOFDX+xhbpW1RkzM9hAfmBJnZAWO3zaHmnEbK/Z0ecw3rEj+d7XBwrA0b+Klsjh6pP8X41uW6vfJ7TfaQvPrU5pR+bno7YpXRz6bIKHEXBa3KVZt+lx6BBxTz88NcNtg7PX8jaoq4jmDMu8LjASg+NsGkJEo+1lyDevMLjbBznf7WuiZXKl0QHyW8/Soy8Nr0U+jby2KVFPwiCXX5nVIj0XceEzpE6JP8nfQk=",
    "Summarizer": "Data Source=summarizer.db;Cache=Shared"
  },
  "AiProvider": "ollama",
  "OllamaApi": {
    "Endpoint": "http://10.10.10.201:11434",
    "Model": "gemma3:4b",
    "Timeout": 30000,
    "RetryCount": 3,
    "RetryDelayMs": 1000,
    "ApiKey": "",
    "ValidateSslCertificate": true
  },
  "OpenAi": {
    "ApiKey": "${OPENAI_API_KEY}",
    "Model": "gpt-5-mini",
    "Timeout": 30000,
    "RetryCount": 3,
    "RetryDelayMs": 1000,
    "MaxTokens": 4000
  },
  "TextSegmentation": {
    "TriggerLength": 2048,
    "MaxSegmentLength": 2000,
    "ContextLimitBuffer": 0.8,
    "PreserveParagraphs": true,
    "EnableLlmSegmentation": true,
    "SentenceEndMarkers": [".", "。", "!", "！", "?"],
    "GenerateAutoTitles": true,
    "LogDetailedInfo": true,
    "AllowedSpecialStructures": ["code", "table", "list", "quote"],
    "RetryCount": 3,
    "LlmSegmentationPrompt": "請將以下文本智能分割成多個段落，每個段落不超過 {maxLength} 字符，保持語義完整性。請直接返回分段後的文本，段落之間用 '---SEGMENT---' 分隔：\n\n{text}"
  },
  "BatchProcessing": {
    "DefaultConcurrentLimit": 2,
    "MaxConcurrentLimit": 4,
    "RetryPolicy": {
      "MaxRetries": 3,
      "BackoffMultiplier": 2,
      "BaseDelaySeconds": 1
    },
    "ApiTimeout": {
      "DefaultTimeoutSeconds": 30,
      "LongTimeoutSeconds": 60
    },
    "ProgressReporting": {
      "UpdateIntervalSeconds": 2,
      "EnableRealtimeUpdates": true
    },
    "PersistenceSettings": {
      "SaveProgressInterval": 10,
      "EnableCheckpoints": true
    }
  },
  "SummaryMerging": {
    "DefaultStrategy": "Balanced",
    "TargetLengthRatio": 0.6,
    "QualityThresholds": {
      "MinCoherenceScore": 0.7,
      "MinCompletenessScore": 0.8,
      "MinConcisenesScore": 0.6,
      "MinAccuracyScore": 0.75
    },
    "DuplicateDetection": {
      "SimilarityThreshold": 0.8,
      "UseSemanticSimilarity": true,
      "ContextWindow": 3,
      "SemanticSimilarityThreshold": 0.75
    },
    "LLMAssistance": {
      "EnableForComplexMerges": true,
      "FallbackToRuleBased": true,
      "MaxRetries": 2,
      "MinSegmentsForLLM": 5,
      "TimeoutSeconds": 30
    },
    "LengthControl": {
      "MinLength": 100,
      "MaxLength": 2000,
      "DefaultTargetLength": 800,
      "LengthTolerance": 0.15
    }
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Summarizer": "Information"
    }
  },
  "AllowedHosts": "*"
}